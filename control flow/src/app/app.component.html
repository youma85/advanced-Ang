<div class="container">
  <h1>{{ title }}</h1>

  <!-- Exercise 1: Replace *ngIf with @if -->
  <section class="section">
    <h2>Login Status</h2>
    <div *ngIf="isLoggedIn">
      <p class="success">âœ“ You are logged in!</p>
      <button (click)="toggleLogin()">Logout</button>
    </div>
    <div *ngIf="!isLoggedIn">
      <p class="warning">Please log in to continue</p>
      <button (click)="toggleLogin()">Login</button>
    </div>
  </section>

  <!-- Exercise 2: Replace *ngIf with else clause -->
  <section class="section">
    <h2>Details Panel</h2>
    <button (click)="toggleDetails()">Toggle Details</button>
    <div *ngIf="showDetails; else noDetails">
      <div class="details-panel">
        <h3>Product Information</h3>
        <p>This panel contains detailed product information.</p>
        <p>You can add more content here.</p>
      </div>
    </div>
    <ng-template #noDetails>
      <p class="muted">Click the button to show details</p>
    </ng-template>
  </section>

  <!-- Exercise 3: Replace *ngFor with @for -->
  <section class="section">
    <h2>Product List</h2>
    <div class="product-grid">
      <div *ngFor="let product of products; let i = index; trackBy: trackByProductId"
           class="product-card">
        <h3>{{ product.name }}</h3>
        <p class="price">${{ product.price }}</p>
        <p *ngIf="product.inStock" class="in-stock">In Stock</p>
        <p *ngIf="!product.inStock" class="out-of-stock">Out of Stock</p>
        <p class="index">Item #{{ i + 1 }}</p>
        <button (click)="removeProduct(product.id)" class="remove-btn">Remove</button>
      </div>
    </div>
  </section>

  <!-- Exercise 4: Add @empty block (Currently shows nothing when empty) -->
  <section class="section">
    <h2>Shopping Cart</h2>
    <p class="instruction">Remove all products above to see how this behaves</p>
    <div class="cart">
      <div *ngFor="let item of products" class="cart-item">
        {{ item.name }} - ${{ item.price }}
      </div>
      <!-- TODO: Trainees should add an @empty block here when converting to new syntax -->
    </div>
  </section>

  <!-- Exercise 5: Replace *ngSwitch with @switch -->
  <section class="section">
    <h2>User Role Dashboard</h2>
    <div class="role-switcher">
      <button (click)="changeUserRole('admin')">Admin</button>
      <button (click)="changeUserRole('user')">User</button>
      <button (click)="changeUserRole('guest')">Guest</button>
    </div>

    <div class="role-panel" [ngSwitch]="currentUser.role">
      <div *ngSwitchCase="'admin'" class="admin-panel">
        <h3>Admin Dashboard</h3>
        <p>You have full access to all features.</p>
        <ul>
          <li>Manage Users</li>
          <li>View Reports</li>
          <li>System Settings</li>
        </ul>
      </div>
      <div *ngSwitchCase="'user'" class="user-panel">
        <h3>User Dashboard</h3>
        <p>Welcome! You have standard access.</p>
        <ul>
          <li>View Profile</li>
          <li>Edit Settings</li>
        </ul>
      </div>
      <div *ngSwitchCase="'guest'" class="guest-panel">
        <h3>Guest Access</h3>
        <p>You have limited access. Please register for more features.</p>
      </div>
      <div *ngSwitchDefault>
        <p>Unknown role</p>
      </div>
    </div>
  </section>

  <!-- Exercise 6: Nested *ngIf and *ngFor -->
  <section class="section">
    <h2>Available Products</h2>
    <div *ngIf="products.length > 0">
      <p>Showing {{ products.length }} product(s)</p>
      <ul class="simple-list">
        <li *ngFor="let product of products">
          <span>{{ product.name }}</span>
          <span *ngIf="product.inStock" class="badge-success">Available</span>
          <span *ngIf="!product.inStock" class="badge-danger">Unavailable</span>
        </li>
      </ul>
    </div>
  </section>
</div>
