<div class="container">
  <h1>{{ title }}</h1>

  <!-- Exercise 1: @if with @else -->
  <section class="section">
    <h2>Login Status</h2>
    @if (isLoggedIn) {
      <p class="success">âœ“ You are logged in!</p>
      <button (click)="toggleLogin()">Logout</button>
    } @else {
      <p class="warning">Please log in to continue</p>
      <button (click)="toggleLogin()">Login</button>
    }
  </section>

  <!-- Exercise 2: @if with @else (no ng-template needed) -->
  <section class="section">
    <h2>Details Panel</h2>
    <button (click)="toggleDetails()">Toggle Details</button>
    @if (showDetails) {
      <div class="details-panel">
        <h3>Product Information</h3>
        <p>This panel contains detailed product information.</p>
        <p>You can add more content here.</p>
      </div>
    } @else {
      <p class="muted">Click the button to show details</p>
    }
  </section>

  <!-- Exercise 3: @for with track -->
  <section class="section">
    <h2>Product List</h2>
    <div class="product-grid">
      @for (product of products; track product.id; let i = $index) {
        <div class="product-card">
          <h3>{{ product.name }}</h3>
          <p class="price">${{ product.price }}</p>
          @if (product.inStock) {
            <p class="in-stock">In Stock</p>
          } @else {
            <p class="out-of-stock">Out of Stock</p>
          }
          <p class="index">Item #{{ i + 1 }}</p>
          <button (click)="removeProduct(product.id)" class="remove-btn">Remove</button>
        </div>
      }
    </div>
  </section>

  <!-- Exercise 4: @for with @empty block -->
  <section class="section">
    <h2>Shopping Cart</h2>
    <p class="instruction">Remove all products above to see the empty state</p>
    <div class="cart">
      @for (item of products; track item.id) {
        <div class="cart-item">
          {{ item.name }} - ${{ item.price }}
        </div>
      } @empty {
        <p class="muted">ðŸ›’ Your cart is empty. Add some products!</p>
      }
    </div>
  </section>

  <!-- Exercise 5: @switch with @case and @default -->
  <section class="section">
    <h2>User Role Dashboard</h2>
    <div class="role-switcher">
      <button (click)="changeUserRole('admin')">Admin</button>
      <button (click)="changeUserRole('user')">User</button>
      <button (click)="changeUserRole('guest')">Guest</button>
    </div>

    @switch (currentUser.role) {
      @case ('admin') {
        <div class="role-panel admin-panel">
          <h3>Admin Dashboard</h3>
          <p>You have full access to all features.</p>
          <ul>
            <li>Manage Users</li>
            <li>View Reports</li>
            <li>System Settings</li>
          </ul>
        </div>
      }
      @case ('user') {
        <div class="role-panel user-panel">
          <h3>User Dashboard</h3>
          <p>Welcome! You have standard access.</p>
          <ul>
            <li>View Profile</li>
            <li>Edit Settings</li>
          </ul>
        </div>
      }
      @case ('guest') {
        <div class="role-panel guest-panel">
          <h3>Guest Access</h3>
          <p>You have limited access. Please register for more features.</p>
        </div>
      }
      @default {
        <div class="role-panel">
          <p>Unknown role</p>
        </div>
      }
    }
  </section>

  <!-- Exercise 6: Nested *ngIf and *ngFor -->
  <section class="section">
    <h2>Available Products</h2>
    <div *ngIf="products.length > 0">
      <p>Showing {{ products.length }} product(s)</p>
      <ul class="simple-list">
        <li *ngFor="let product of products">
          <span>{{ product.name }}</span>
          <span *ngIf="product.inStock" class="badge-success">Available</span>
          <span *ngIf="!product.inStock" class="badge-danger">Unavailable</span>
        </li>
      </ul>
    </div>
  </section>
</div>
